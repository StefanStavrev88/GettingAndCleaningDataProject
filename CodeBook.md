# Code Book
Author: Stefan Stavrev

Date: April, 2015

Contact: stefanstavrev88@gmail.com

## Project Description
This is a course project for the course "Getting and Cleaning Data (Johns Hopkins University)" taught by Jeff Leek, Roger D. Peng, Brian Caffo. It is part of a 10 courses specialization in Data Science. The goal of the project was to take raw data as input and to write an R script that will produce tidy data, that is, data that is ready for analysis.                                                           

## Raw Data
Raw data is available at: https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip For more information: http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones

### Raw Data Dimensions
* subject_test.txt:    2947 x 1
* X_test.txt:          2947 x 561
* y_test.txt:          2947 x 1
* subject_train.txt:   7352 x 1
* X_train.txt:         7352 x 561
* y_train.txt:         7352 x 1

### Raw Data Variables
* subject_test.txt:    One integer column/variable in range 2-24. Each value represents a unique individual.
* X_test.txt:          There are 561 numeric columns/variables. For a complete list see https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/UCI%20HAR%20Dataset/features.txt. For more information on the variables see https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/UCI%20HAR%20Dataset/features_info.txt.
* y_test.txt:          One integer column/variable in range 1-6. Each value represents an activity (WALKING=1, WALKING_UPSTAIRS=2, WALKING_DOWNSTAIRS=3, SITTING=4, STANDING=5, LAYING=6).
* subject_train.txt:   One integer column/variable in range 1-30. Each row (one integer) represents a unique individual.
* X_train.txt:         There are 561 numeric columns/variables. For a complete list see https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/UCI%20HAR%20Dataset/features.txt. For more information on the variables see https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/UCI%20HAR%20Dataset/features_info.txt.
* y_train.txt:         One integer column/variable in range 1-6. Each value represents an activity (WALKING=1, WALKING_UPSTAIRS=2, WALKING_DOWNSTAIRS=3, SITTING=4, STANDING=5, LAYING=6).

## Tidy Data
Tidy data is available at: https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/tidyData.txt

### Tidy Data Variables
The first two variables represent individual/subject ID (1-30) and activity (WALKING=1, WALKING_UPSTAIRS=2, WALKING_DOWNSTAIRS=3, SITTING=4, STANDING=5, LAYING=6). The rest of the variables are measurements made while the subject was doing the activity. For more info please see https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/UCI%20HAR%20Dataset/features_info.txt.

```r
str(result)
```

```
'data.frame':	180 obs. of  81 variables:
 $ subjectID                      : int  1 2 3 4 5 6 7 8 9 10 ...
 $ activity                       : Factor w/ 6 levels "WALKING","WALKING_UPSTAIRS",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ tBodyAcc-mean()-X              : num  0.277 0.276 0.276 0.279 0.278 ...
 $ tBodyAcc-mean()-Y              : num  -0.0174 -0.0186 -0.0172 -0.0148 -0.0173 ...
 $ tBodyAcc-mean()-Z              : num  -0.111 -0.106 -0.113 -0.111 -0.108 ...
 $ tBodyAcc-std()-X               : num  -0.284 -0.424 -0.36 -0.441 -0.294 ...
 $ tBodyAcc-std()-Y               : num  0.1145 -0.0781 -0.0699 -0.0788 0.0767 ...
 $ tBodyAcc-std()-Z               : num  -0.26 -0.425 -0.387 -0.586 -0.457 ...
 $ tGravityAcc-mean()-X           : num  0.935 0.913 0.937 0.964 0.973 ...
 $ tGravityAcc-mean()-Y           : num  -0.2822 -0.3466 -0.262 -0.0859 -0.1004 ...
 $ tGravityAcc-mean()-Z           : num  -0.0681 0.08473 -0.13811 0.12776 0.00248 ...
 $ tGravityAcc-std()-X            : num  -0.977 -0.973 -0.978 -0.984 -0.979 ...
 $ tGravityAcc-std()-Y            : num  -0.971 -0.972 -0.962 -0.968 -0.962 ...
 $ tGravityAcc-std()-Z            : num  -0.948 -0.972 -0.952 -0.963 -0.965 ...
 $ tBodyAccJerk-mean()-X          : num  0.074 0.0618 0.0815 0.0784 0.0846 ...
 $ tBodyAccJerk-mean()-Y          : num  0.02827 0.01825 0.01006 0.00296 -0.01632 ...
 $ tBodyAccJerk-mean()-Z          : num  -4.17e-03 7.90e-03 -5.62e-03 -7.68e-04 8.32e-05 ...
 $ tBodyAccJerk-std()-X           : num  -0.114 -0.278 -0.269 -0.297 -0.303 ...
 $ tBodyAccJerk-std()-Y           : num  0.067 -0.0166 -0.045 -0.2212 -0.091 ...
 $ tBodyAccJerk-std()-Z           : num  -0.503 -0.586 -0.529 -0.751 -0.613 ...
 $ tBodyGyro-mean()-X             : num  -0.0418 -0.053 -0.0256 -0.0318 -0.0489 ...
 $ tBodyGyro-mean()-Y             : num  -0.0695 -0.0482 -0.0779 -0.0727 -0.069 ...
 $ tBodyGyro-mean()-Z             : num  0.0849 0.0828 0.0813 0.0806 0.0815 ...
 $ tBodyGyro-std()-X              : num  -0.474 -0.562 -0.572 -0.501 -0.491 ...
 $ tBodyGyro-std()-Y              : num  -0.0546 -0.5385 -0.5638 -0.6654 -0.5046 ...
 $ tBodyGyro-std()-Z              : num  -0.344 -0.481 -0.477 -0.663 -0.319 ...
 $ tBodyGyroJerk-mean()-X         : num  -0.09 -0.0819 -0.0952 -0.1153 -0.0888 ...
 $ tBodyGyroJerk-mean()-Y         : num  -0.0398 -0.0538 -0.0388 -0.0393 -0.045 ...
 $ tBodyGyroJerk-mean()-Z         : num  -0.0461 -0.0515 -0.0504 -0.0551 -0.0483 ...
 $ tBodyGyroJerk-std()-X          : num  -0.207 -0.39 -0.386 -0.492 -0.358 ...
 $ tBodyGyroJerk-std()-Y          : num  -0.304 -0.634 -0.639 -0.807 -0.571 ...
 $ tBodyGyroJerk-std()-Z          : num  -0.404 -0.435 -0.537 -0.64 -0.158 ...
 $ tBodyAccMag-mean()             : num  -0.137 -0.29 -0.255 -0.312 -0.158 ...
 $ tBodyAccMag-std()              : num  -0.22 -0.423 -0.328 -0.528 -0.377 ...
 $ tGravityAccMag-mean()          : num  -0.137 -0.29 -0.255 -0.312 -0.158 ...
 $ tGravityAccMag-std()           : num  -0.22 -0.423 -0.328 -0.528 -0.377 ...
 $ tBodyAccJerkMag-mean()         : num  -0.141 -0.281 -0.28 -0.367 -0.288 ...
 $ tBodyAccJerkMag-std()          : num  -0.0745 -0.1642 -0.1399 -0.3169 -0.2822 ...
 $ tBodyGyroMag-mean()            : num  -0.161 -0.447 -0.466 -0.498 -0.356 ...
 $ tBodyGyroMag-std()             : num  -0.187 -0.553 -0.562 -0.553 -0.492 ...
 $ tBodyGyroJerkMag-mean()        : num  -0.299 -0.548 -0.566 -0.681 -0.445 ...
 $ tBodyGyroJerkMag-std()         : num  -0.325 -0.558 -0.567 -0.73 -0.489 ...
 $ fBodyAcc-mean()-X              : num  -0.203 -0.346 -0.317 -0.427 -0.288 ...
 $ fBodyAcc-mean()-Y              : num  0.08971 -0.0219 -0.0813 -0.1494 0.00946 ...
 $ fBodyAcc-mean()-Z              : num  -0.332 -0.454 -0.412 -0.631 -0.49 ...
 $ fBodyAcc-std()-X               : num  -0.319 -0.458 -0.379 -0.447 -0.298 ...
 $ fBodyAcc-std()-Y               : num  0.056 -0.1692 -0.124 -0.1018 0.0426 ...
 $ fBodyAcc-std()-Z               : num  -0.28 -0.455 -0.423 -0.594 -0.483 ...
 $ fBodyAcc-meanFreq()-X          : num  -0.208 -0.146 -0.247 -0.139 -0.322 ...
 $ fBodyAcc-meanFreq()-Y          : num  0.11309 0.19859 0.17174 0.01235 -0.00204 ...
 $ fBodyAcc-meanFreq()-Z          : num  0.0497 0.0689 0.0749 -0.0788 0.0247 ...
 $ fBodyAccJerk-mean()-X          : num  -0.171 -0.305 -0.305 -0.359 -0.345 ...
 $ fBodyAccJerk-mean()-Y          : num  -0.0352 -0.0788 -0.1405 -0.2796 -0.1811 ...
 $ fBodyAccJerk-mean()-Z          : num  -0.469 -0.555 -0.514 -0.729 -0.59 ...
 $ fBodyAccJerk-std()-X           : num  -0.134 -0.314 -0.297 -0.297 -0.321 ...
 $ fBodyAccJerk-std()-Y           : num  0.10674 -0.01533 -0.00561 -0.2099 -0.05452 ...
 $ fBodyAccJerk-std()-Z           : num  -0.535 -0.616 -0.544 -0.772 -0.633 ...
 $ fBodyAccJerk-meanFreq()-X      : num  -0.2093 -0.0727 -0.216 -0.1353 -0.3594 ...
 $ fBodyAccJerk-meanFreq()-Y      : num  -0.386 -0.264 -0.259 -0.386 -0.534 ...
 $ fBodyAccJerk-meanFreq()-Z      : num  -0.186 -0.255 -0.347 -0.326 -0.344 ...
 $ fBodyGyro-mean()-X             : num  -0.339 -0.43 -0.438 -0.373 -0.373 ...
 $ fBodyGyro-mean()-Y             : num  -0.103 -0.555 -0.562 -0.688 -0.514 ...
 $ fBodyGyro-mean()-Z             : num  -0.256 -0.397 -0.418 -0.601 -0.213 ...
 $ fBodyGyro-std()-X              : num  -0.517 -0.604 -0.615 -0.543 -0.529 ...
 $ fBodyGyro-std()-Y              : num  -0.0335 -0.533 -0.5689 -0.6547 -0.5027 ...
 $ fBodyGyro-std()-Z              : num  -0.437 -0.56 -0.546 -0.716 -0.42 ...
 $ fBodyGyro-meanFreq()-X         : num  0.01478 0.00728 0.03376 -0.12715 -0.04586 ...
 $ fBodyGyro-meanFreq()-Y         : num  -0.0658 -0.0427 -0.038 -0.2747 -0.0192 ...
 $ fBodyGyro-meanFreq()-Z         : num  0.000773 0.139752 -0.044508 0.149852 0.167458 ...
 $ fBodyAccMag-mean()             : num  -0.129 -0.324 -0.29 -0.451 -0.305 ...
 $ fBodyAccMag-std()              : num  -0.398 -0.577 -0.456 -0.651 -0.52 ...
 $ fBodyAccMag-meanFreq()         : num  0.191 0.393 0.113 0.382 0.15 ...
 $ fBodyBodyAccJerkMag-mean()     : num  -0.0571 -0.1691 -0.1868 -0.3186 -0.2695 ...
 $ fBodyBodyAccJerkMag-std()      : num  -0.1035 -0.1641 -0.0899 -0.3205 -0.3057 ...
 $ fBodyBodyAccJerkMag-meanFreq() : num  0.09382 0.2075 -0.11716 0.11149 -0.00497 ...
 $ fBodyBodyGyroMag-mean()        : num  -0.199 -0.531 -0.57 -0.609 -0.484 ...
 $ fBodyBodyGyroMag-std()         : num  -0.321 -0.652 -0.633 -0.594 -0.59 ...
 $ fBodyBodyGyroMag-meanFreq()    : num  0.2688 0.3053 0.1809 0.0697 0.2506 ...
 $ fBodyBodyGyroJerkMag-mean()    : num  -0.319 -0.583 -0.608 -0.724 -0.548 ...
 $ fBodyBodyGyroJerkMag-std()     : num  -0.382 -0.558 -0.549 -0.758 -0.456 ...
 $ fBodyBodyGyroJerkMag-meanFreq(): num  0.1907 0.1263 0.0458 0.2654 0.0527 ...
```

### Tidy Data Head

```r
head(result, 2)
```

```
  subjectID activity tBodyAcc-mean()-X tBodyAcc-mean()-Y tBodyAcc-mean()-Z tBodyAcc-std()-X tBodyAcc-std()-Y tBodyAcc-std()-Z tGravityAcc-mean()-X
1         1  WALKING         0.2773308       -0.01738382        -0.1111481       -0.2837403       0.11446134       -0.2600279            0.9352232
2         2  WALKING         0.2764266       -0.01859492        -0.1055004       -0.4236428      -0.07809125       -0.4252575            0.9130173
  tGravityAcc-mean()-Y tGravityAcc-mean()-Z tGravityAcc-std()-X tGravityAcc-std()-Y tGravityAcc-std()-Z tBodyAccJerk-mean()-X tBodyAccJerk-mean()-Y
1           -0.2821650          -0.06810286          -0.9766096          -0.9713060          -0.9477172            0.07404163            0.02827211
2           -0.3466071           0.08472709          -0.9726932          -0.9721169          -0.9720728            0.06180807            0.01824927
  tBodyAccJerk-mean()-Z tBodyAccJerk-std()-X tBodyAccJerk-std()-Y tBodyAccJerk-std()-Z tBodyGyro-mean()-X tBodyGyro-mean()-Y tBodyGyro-mean()-Z
1          -0.004168406           -0.1136156           0.06700250           -0.5026998        -0.04183096        -0.06953005         0.08494482
2           0.007895337           -0.2775305          -0.01660224           -0.5860904        -0.05302582        -0.04823823         0.08283366
  tBodyGyro-std()-X tBodyGyro-std()-Y tBodyGyro-std()-Z tBodyGyroJerk-mean()-X tBodyGyroJerk-mean()-Y tBodyGyroJerk-mean()-Z tBodyGyroJerk-std()-X
1        -0.4735355       -0.05460777        -0.3442666            -0.08999754            -0.03984287            -0.04613093            -0.2074219
2        -0.5615503       -0.53845367        -0.4810855            -0.08188334            -0.05382994            -0.05149392            -0.3895498
  tBodyGyroJerk-std()-Y tBodyGyroJerk-std()-Z tBodyAccMag-mean() tBodyAccMag-std() tGravityAccMag-mean() tGravityAccMag-std() tBodyAccJerkMag-mean()
1            -0.3044685            -0.4042555         -0.1369712        -0.2196886            -0.1369712           -0.2196886             -0.1414288
2            -0.6341404            -0.4354927         -0.2904076        -0.4225442            -0.2904076           -0.4225442             -0.2814242
  tBodyAccJerkMag-std() tBodyGyroMag-mean() tBodyGyroMag-std() tBodyGyroJerkMag-mean() tBodyGyroJerkMag-std() fBodyAcc-mean()-X fBodyAcc-mean()-Y
1           -0.07447175          -0.1609796         -0.1869784              -0.2987037             -0.3253249        -0.2027943        0.08971273
2           -0.16415099          -0.4465491         -0.5530199              -0.5479120             -0.5577982        -0.3460482       -0.02190481
  fBodyAcc-mean()-Z fBodyAcc-std()-X fBodyAcc-std()-Y fBodyAcc-std()-Z fBodyAcc-meanFreq()-X fBodyAcc-meanFreq()-Y fBodyAcc-meanFreq()-Z
1        -0.3315601       -0.3191347       0.05604001       -0.2796868            -0.2075484             0.1130936            0.04972652
2        -0.4538064       -0.4576514      -0.16921969       -0.4552221            -0.1457955             0.1985865            0.06889952
  fBodyAccJerk-mean()-X fBodyAccJerk-mean()-Y fBodyAccJerk-mean()-Z fBodyAccJerk-std()-X fBodyAccJerk-std()-Y fBodyAccJerk-std()-Z
1            -0.1705470           -0.03522552            -0.4689992           -0.1335866           0.10673986           -0.5347134
2            -0.3046153           -0.07876408            -0.5549567           -0.3143131          -0.01533295           -0.6158982
  fBodyAccJerk-meanFreq()-X fBodyAccJerk-meanFreq()-Y fBodyAccJerk-meanFreq()-Z fBodyGyro-mean()-X fBodyGyro-mean()-Y fBodyGyro-mean()-Z
1               -0.20926197                -0.3862371                -0.1855303         -0.3390322         -0.1030594         -0.2559409
2               -0.07271016                -0.2635740                -0.2548464         -0.4297135         -0.5547721         -0.3966599
  fBodyGyro-std()-X fBodyGyro-std()-Y fBodyGyro-std()-Z fBodyGyro-meanFreq()-X fBodyGyro-meanFreq()-Y fBodyGyro-meanFreq()-Z fBodyAccMag-mean()
1        -0.5166919       -0.03350816        -0.4365622             0.01478450            -0.06577462           0.0007733216         -0.1286235
2        -0.6040530       -0.53304695        -0.5598566             0.00727968            -0.04270093           0.1397521153         -0.3242894
  fBodyAccMag-std() fBodyAccMag-meanFreq() fBodyBodyAccJerkMag-mean() fBodyBodyAccJerkMag-std() fBodyBodyAccJerkMag-meanFreq()
1        -0.3980326              0.1906437                 -0.0571194                -0.1034924                     0.09382218
2        -0.5771052              0.3932062                 -0.1690644                -0.1640920                     0.20750093
  fBodyBodyGyroMag-mean() fBodyBodyGyroMag-std() fBodyBodyGyroMag-meanFreq() fBodyBodyGyroJerkMag-mean() fBodyBodyGyroJerkMag-std()
1              -0.1992526             -0.3210180                   0.2688444                  -0.3193086                 -0.3816019
2              -0.5307048             -0.6517928                   0.3052838                  -0.5832493                 -0.5581046
  fBodyBodyGyroJerkMag-meanFreq()
1                       0.1906634
2                       0.1263446
``` 
 
 
## How to produce tidy data from raw data?

* 1. Download raw data from: https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip
* 2. Unzip to your R working directory.
* 3. Run the script run_analysis.R (make sure your R working directory is set to where you extracted the raw data).

## Data transformations from raw data to tidy data
* 1. One table was created from the tables/files in the train folder: "subject_train.txt", "X_train.txt", "y_train.txt". All three files/tables have the same number of rows, and so they were simply column binded with cbind() in R.
* 2. Another table was created from the tables/files in the test folder (as in step 1).
* 3. The tables from steps 1 and 2 were row binded with rbind in R.
* 4. Columns from table in step 3, were removed. The columns kept, were specified by the file features.txt in the original dataset.
* 5. Columns from table in step 4, were appropriately named, according to the file activity_labels.txt in the original dataset.
* 6. Finally, in the table from step 5, the data was grouped by the columns "subjectID" and "activity", and then the mean function was applied to the other columns.
* 7. The table was written to a file with: write.table(result, file="tidyData.txt", row.names = FALSE)
For more information see the README.md file: https://github.com/StefanStavrev88/GettingAndCleaningDataProject/blob/master/README.md

